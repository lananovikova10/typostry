/**
 * Emoji mapping for the markdown editor
 * 
 * Maps emoji shortcodes to their corresponding Unicode emoji characters
 */

// Map of emoji codes to their Unicode equivalent
export const emojiMap: Record<string, string> = {
  // Face emoticons
  "smile": "ğŸ˜„",
  "smiley": "ğŸ˜ƒ",
  "grin": "ğŸ˜",
  "laughing": "ğŸ˜†",
  "joy": "ğŸ˜‚",
  "rofl": "ğŸ¤£",
  "relaxed": "â˜ºï¸",
  "blush": "ğŸ˜Š",
  "innocent": "ğŸ˜‡",
  "wink": "ğŸ˜‰",
  "heart_eyes": "ğŸ˜",
  "thinking": "ğŸ¤”",
  "frowning": "ğŸ˜¦",
  "worried": "ğŸ˜Ÿ",
  "cry": "ğŸ˜¢",
  "sob": "ğŸ˜­",
  "sleeping": "ğŸ˜´",
  "sunglasses": "ğŸ˜",
  "cool": "ğŸ˜",
  "tired": "ğŸ˜«",
  "angry": "ğŸ˜ ",
  "rage": "ğŸ˜¡",
  "triumph": "ğŸ˜¤",
  "smirk": "ğŸ˜",
  "yum": "ğŸ˜‹",
  "pensive": "ğŸ˜”",
  "confused": "ğŸ˜•",
  "upside_down": "ğŸ™ƒ",
  "flushed": "ğŸ˜³",
  "crazy": "ğŸ¤ª",
  "zany": "ğŸ¤ª",
  "nerd": "ğŸ¤“",
  "no_mouth": "ğŸ˜¶",
  "neutral": "ğŸ˜",
  "expressionless": "ğŸ˜‘",
  "shushing": "ğŸ¤«",
  "mask": "ğŸ˜·",
  "sick": "ğŸ¤’",
  "vomiting": "ğŸ¤®",
  "sneezing": "ğŸ¤§",
  
  // Heart symbols
  "heart": "â¤ï¸",
  "orange_heart": "ğŸ§¡",
  "yellow_heart": "ğŸ’›",
  "green_heart": "ğŸ’š",
  "blue_heart": "ğŸ’™",
  "purple_heart": "ğŸ’œ",
  "black_heart": "ğŸ–¤",
  "broken_heart": "ğŸ’”",
  "sparkling_heart": "ğŸ’–",
  "two_hearts": "ğŸ’•",
  "revolving_hearts": "ğŸ’",
  "heartbeat": "ğŸ’“",
  "growing_heart": "ğŸ’—",
  "heartpulse": "ğŸ’—",
  
  // Hand symbols
  "thumbsup": "ğŸ‘",
  "+1": "ğŸ‘",
  "thumbsdown": "ğŸ‘",
  "-1": "ğŸ‘",
  "clap": "ğŸ‘",
  "raised_hands": "ğŸ™Œ",
  "pray": "ğŸ™",
  "handshake": "ğŸ¤",
  "ok_hand": "ğŸ‘Œ",
  "v": "âœŒï¸",
  "peace": "âœŒï¸",
  "crossed_fingers": "ğŸ¤",
  "fist": "âœŠ",
  "punch": "ğŸ‘Š",
  "wave": "ğŸ‘‹",
  "muscle": "ğŸ’ª",
  "point_up": "â˜ï¸",
  "point_down": "ğŸ‘‡",
  "point_left": "ğŸ‘ˆ",
  "point_right": "ğŸ‘‰",
  
  // Animal emojis
  "dog": "ğŸ¶",
  "cat": "ğŸ±",
  "mouse": "ğŸ­",
  "hamster": "ğŸ¹",
  "rabbit": "ğŸ°",
  "fox": "ğŸ¦Š",
  "bear": "ğŸ»",
  "panda": "ğŸ¼",
  "koala": "ğŸ¨",
  "tiger": "ğŸ¯",
  "lion": "ğŸ¦",
  "cow": "ğŸ®",
  "pig": "ğŸ·",
  "frog": "ğŸ¸",
  "monkey": "ğŸµ",
  "chicken": "ğŸ”",
  "penguin": "ğŸ§",
  "bird": "ğŸ¦",
  "duck": "ğŸ¦†",
  "eagle": "ğŸ¦…",
  "owl": "ğŸ¦‰",
  "bat": "ğŸ¦‡",
  "wolf": "ğŸº",
  "unicorn": "ğŸ¦„",
  "bee": "ğŸ",
  "butterfly": "ğŸ¦‹",
  "snail": "ğŸŒ",
  "snake": "ğŸ",
  "turtle": "ğŸ¢",
  "fish": "ğŸŸ",
  "whale": "ğŸ³",
  "octopus": "ğŸ™",
  
  // Food emojis
  "pizza": "ğŸ•",
  "burger": "ğŸ”",
  "hotdog": "ğŸŒ­",
  "taco": "ğŸŒ®",
  "burrito": "ğŸŒ¯",
  "sushi": "ğŸ£",
  "bento": "ğŸ±",
  "ramen": "ğŸœ",
  "curry": "ğŸ›",
  "rice": "ğŸš",
  "sandwich": "ğŸ¥ª",
  "bread": "ğŸ",
  "fries": "ğŸŸ",
  "popcorn": "ğŸ¿",
  "donut": "ğŸ©",
  "cake": "ğŸ°",
  "cookie": "ğŸª",
  "chocolate": "ğŸ«",
  "icecream": "ğŸ¦",
  "lollipop": "ğŸ­",
  "apple": "ğŸ",
  "banana": "ğŸŒ",
  "strawberry": "ğŸ“",
  "orange": "ğŸŠ",
  "watermelon": "ğŸ‰",
  "grapes": "ğŸ‡",
  "pineapple": "ğŸ",
  "coffee": "â˜•",
  "beer": "ğŸº",
  "wine": "ğŸ·",
  "cocktail": "ğŸ¸",
  "tea": "ğŸµ",
  
  // Nature emojis
  "sun": "â˜€ï¸",
  "moon": "ğŸŒ™",
  "cloud": "â˜ï¸",
  "umbrella": "â˜‚ï¸",
  "rainbow": "ğŸŒˆ",
  "star": "â­",
  "fire": "ğŸ”¥",
  "droplet": "ğŸ’§",
  "ocean": "ğŸŒŠ",
  "snowflake": "â„ï¸",
  "snow": "â„ï¸",
  "earth": "ğŸŒ",
  "globe": "ğŸŒ",
  "mountain": "â›°ï¸",
  "volcano": "ğŸŒ‹",
  "tree": "ğŸŒ²",
  "evergreen": "ğŸŒ²",
  "palm_tree": "ğŸŒ´",
  "flower": "ğŸŒ¸",
  "rose": "ğŸŒ¹",
  "hibiscus": "ğŸŒº",
  "sunflower": "ğŸŒ»",
  "leaf": "ğŸƒ",
  "fallen_leaf": "ğŸ‚",
  
  // Activity emojis
  "soccer": "âš½",
  "basketball": "ğŸ€",
  "football": "ğŸˆ",
  "baseball": "âš¾",
  "tennis": "ğŸ¾",
  "volleyball": "ğŸ",
  "golf": "â›³",
  "trophy": "ğŸ†",
  "medal": "ğŸ…",
  "running": "ğŸƒ",
  "swimming": "ğŸŠ",
  "dancer": "ğŸ’ƒ",
  "dj": "ğŸ§",
  "microphone": "ğŸ¤",
  "headphones": "ğŸ§",
  "guitar": "ğŸ¸",
  "drum": "ğŸ¥",
  "dice": "ğŸ²",
  "chess": "â™Ÿï¸",
  "dart": "ğŸ¯",
  "bowling": "ğŸ³",
  
  // Travel and places
  "car": "ğŸš—",
  "taxi": "ğŸš•",
  "bus": "ğŸšŒ",
  "truck": "ğŸšš",
  "bicycle": "ğŸš²",
  "train": "ğŸš†",
  "airplane": "âœˆï¸",
  "helicopter": "ğŸš",
  "rocket": "ğŸš€",
  "ship": "ğŸš¢",
  "boat": "â›µ",
  "anchor": "âš“",
  "house": "ğŸ ",
  "building": "ğŸ¢",
  "hotel": "ğŸ¨",
  "hospital": "ğŸ¥",
  "bank": "ğŸ¦",
  "school": "ğŸ«",
  "castle": "ğŸ°",
  "tokyo_tower": "ğŸ—¼",
  "statue_of_liberty": "ğŸ—½",
  "bridge": "ğŸŒ‰",
  "tent": "â›º",
  "fuelpump": "â›½",
  "traffic_light": "ğŸš¦",
  
  // Objects and symbols
  "watch": "âŒš",
  "iphone": "ğŸ“±",
  "phone": "ğŸ“±",
  "computer": "ğŸ’»",
  "laptop": "ğŸ’»",
  "keyboard": "âŒ¨ï¸",
  "printer": "ğŸ–¨ï¸",
  "camera": "ğŸ“·",
  "tv": "ğŸ“º",
  "radio": "ğŸ“»",
  "speaker": "ğŸ”ˆ",
  "bell": "ğŸ””",
  "lock": "ğŸ”’",
  "key": "ğŸ”‘",
  "bulb": "ğŸ’¡",
  "book": "ğŸ“š",
  "books": "ğŸ“š",
  "notebook": "ğŸ““",
  "pen": "ğŸ–Šï¸",
  "pencil": "âœï¸",
  "paperclip": "ğŸ“",
  "scissors": "âœ‚ï¸",
  "envelope": "âœ‰ï¸",
  "email": "âœ‰ï¸",
  "mailbox": "ğŸ“«",
  "package": "ğŸ“¦",
  "shopping_bag": "ğŸ›ï¸",
  "moneybag": "ğŸ’°",
  "money": "ğŸ’°",
  "credit_card": "ğŸ’³",
  "gem": "ğŸ’",
  "hammer": "ğŸ”¨",
  "wrench": "ğŸ”§",
  "gear": "âš™ï¸",
  "clock": "ğŸ•",
  "hourglass": "âŒ›",
  "bomb": "ğŸ’£",
  "pill": "ğŸ’Š",
  "syringe": "ğŸ’‰",
  "gift": "ğŸ",
  "birthday": "ğŸ‚",
  "balloon": "ğŸˆ",
  "ribbon": "ğŸ€",
  "calendar": "ğŸ“…",
  "memo": "ğŸ“",
  "note": "ğŸ“",
  "microscope": "ğŸ”¬",
  "telescope": "ğŸ”­",
  "magnet": "ğŸ§²",
  
  // Special symbols
  "check": "âœ…",
  "x": "âŒ",
  "question": "â“",
  "exclamation": "â—",
  "warning": "âš ï¸",
  "recycle": "â™»ï¸",
  "arrow_up": "â¬†ï¸",
  "arrow_down": "â¬‡ï¸",
  "arrow_left": "â¬…ï¸",
  "arrow_right": "â¡ï¸",
  "back": "ğŸ”™",
  "soon": "ğŸ”œ",
  "top": "ğŸ”",
  "copyright": "Â©ï¸",
  "registered": "Â®ï¸",
  "trademark": "â„¢ï¸",
  "1234": "ğŸ”¢",
  "hash": "#ï¸âƒ£",
  "zero": "0ï¸âƒ£",
  "one": "1ï¸âƒ£",
  "two": "2ï¸âƒ£",
  "three": "3ï¸âƒ£",
  "four": "4ï¸âƒ£",
  "five": "5ï¸âƒ£",
  "six": "6ï¸âƒ£",
  "seven": "7ï¸âƒ£",
  "eight": "8ï¸âƒ£",
  "nine": "9ï¸âƒ£"
}

/**
 * Replace emoji shortcodes in text with actual emoji characters
 * 
 * @param text The text containing emoji shortcodes like :smile: to be replaced
 * @returns The text with emoji shortcodes replaced with Unicode emoji characters
 */
export function replaceEmojis(text: string): string {
  // First handle the special case of consecutive emoji codes without spaces
  // This pattern matches any sequence like :emoji1::emoji2::emoji3:
  let processed = text;
  const consecutivePattern = /:([a-zA-Z0-9_+-]+):/g;
  let match;
  
  // We need to manually process consecutive emojis to handle them correctly
  while ((match = consecutivePattern.exec(processed)) !== null) {
    const fullMatch = match[0];
    const code = match[1];
    
    // Only replace if it's in our emoji map
    if (emojiMap[code]) {
      // Replace just this emoji code
      const before = processed.substring(0, match.index);
      const after = processed.substring(match.index + fullMatch.length);
      processed = before + emojiMap[code] + after;
      
      // Update the regex lastIndex since we modified the string
      consecutivePattern.lastIndex = match.index + emojiMap[code].length;
    } else {
      // If not found, just move past this match
      consecutivePattern.lastIndex = match.index + fullMatch.length;
    }
  }

  return processed;
}